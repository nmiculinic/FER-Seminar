\chapter{Statistiƒçko testiranje ocekivanja}

U ovom poglavlju cu prikazati kako se testiranje vrsi na prosjek uzoraka. Prvo pretpostavljamo da je populacija normalno distribuirana.

Zatim zelimo odrediti koliki nam mora biti uzorak iz te populacije da bi znacajnost testa te njegova snaga bila zadovoljavajuca i uz to sve izbalansirati. Konkretni postupci odredivanj velicine uzorka izlaze izvan okvira ovog seminara.

Treba naravno napomenti da ce uzorak biti distribuiran po $t$ distribuciji jer nam varijanca populacije nije poznata te pretpostavljamo normalnu distribuciju populacije.

Ukoliko je $H_0$ tocna nasa statisika: \[\frac{\sqrt{n} (\bar{x} - \mu)}{s} \sim t_{n-1}\]

slijedi $t$ distribuciju s $n-1$ stupnja slobode. Nakon malo matematike uz pretpostavku $H_0$:

\[
\bar{x} \sim \frac{s}{\sqrt{n}} \cdot t_{n-1} + \mu
\]

Uz znacajnost testa $\alpha$ dobivamo podrucje prihvacanja $H_0$ kao \cite{matstat}:

\[
\bar{x} \in \left<\mu - \frac{s}{\sqrt{n}} \cdot t_{n-1, \frac{\alpha}{2}}, \mu + \frac{s}{\sqrt{n}} \cdot t_{n-1, \frac{\alpha}{2}} \right>
\]

gdje $t_{n, \alpha}$ gdje pretstavlja $1-\alpha$ percentila $t$ distribucije s $n$ stupnjeva slobode, prikazano u prethodnom poglavlju.

Potom uz odredeni $\alpha$ napravimo podrucje prihvacanja za ovaj test. Ukoliko je prosjek uzorka unutar tog intervala nas test nije odbio $H_0$ te je presuda nul hipoteza, dok u suprotnom biramo $H_a$.

\marginnote{Treba ovdje uzeti neki primjer podataka i lijepo ih obraditi... ako stignem}[5cm]

U nastavku je dan primjer programskog koda koju uz pythona te biblioteka NumPy odraduje cijeli postupak testiranja.

\begin{figure}[H]
\begin{minted}{python}
from pylab import *
from numpy import *
from scipy.stats import t, norm
from numpy.random import normal

#Ovo je primjer ulaznih podata za testiranje
data = normal(3.1, 2, 15)
mu_test = 3
alpha = 0.05


n = data.size        # Broj uzoraka
s = data.std(ddof=1) # Procjena standardne devijacije populaije (ne uzoraka)
mu_s = data.mean()   # Procjena prosjeka iz uzoraka
mu_s_s = s/sqrt(n)   # Standardna devijacija prosjeka uzoraka

#Plottanje cisto da vidimo ulazne podatke
hist(data, bins=7);

(l,u) = t.interval(1-alpha, n - 1, mu_test,  mu_s_s)
print (l,u) #Podrucje prihvacanja

if l < mu_s and  mu_s < u:
    print ("H_0")
else:
    print ("H_a")
\end{minted}
\end{figure}